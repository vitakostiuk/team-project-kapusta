"use strict";(self.webpackChunkteam_project_kapusta=self.webpackChunkteam_project_kapusta||[]).push([[370],{9567:function(e,n,t){t.d(n,{r:function(){return o}});var a,r=t(2791),i=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function l(e,n){var t=e.title,l=e.titleId,o=c(e,i);return r.createElement("svg",s({width:18,height:12,viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":l},o),t?r.createElement("title",{id:l},t):null,a||(a=r.createElement("path",{d:"M18 5H3.83L7.41 1.41L6 0L0 6L6 12L7.41 10.59L3.83 7H18V5Z",fill:"#FF751D"})))}var o=r.forwardRef(l);n.Z=t.p+"static/media/arrow-left.420a10fd9c9a52c9b30cbb0be1b001bf.svg"},8533:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(4165),r=t(5861),i=t(885),s=t(2791),c=t(8687),l="PopUp_popUpContainer__6yIi2",o="PopUp_popUpText__p1dK8",u="PopUp_popUpTextBottom__Mk8bs PopUp_popUpText__p1dK8",d=t(184),p=function(){return(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("p",{className:o,children:"Hello! To get started, enter the current balance of your account!"}),(0,d.jsx)("p",{className:u,children:"You can't spend money until you have it :)"})]})},x=t(4641),h=t(7906),f=t(6158),m="BalanceComp_form__VjdYG",_="BalanceComp_label__TVdDx",v="BalanceComp_btnsContainer__8Y1eX",j="BalanceComp_input__2dWo4",g="BalanceComp_buttonDisabled__iJPBt",b="BalanceComp_button__YhKpX BalanceComp_buttonDisabled__iJPBt",y=function(){var e=(0,x.Dj)(),n=e.data,t=e.isSuccess,l=(0,s.useState)(""),o=(0,i.Z)(l,2),u=o[0],y=o[1],C=(0,s.useState)(!0),E=(0,i.Z)(C,2),N=E[0],w=E[1],B=(0,s.useState)(!0),k=(0,i.Z)(B,2),Z=k[0],S=k[1],P=(0,c.useDispatch)(),O=(0,x.AR)(),R=(0,i.Z)(O,1)[0];(0,s.useEffect)((function(){t&&(P((0,h.L)((0,f.R)(n))),y((0,f.R)(n)))}),[n,P,t]);var L=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y((0,f.R)(u)),S(!1),e.prev=3,e.next=6,R({balance:Number(u)});case 6:t=e.sent,r=t.data,P((0,h.L)((0,f.R)(r.balance))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:w(!0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{className:m,onSubmit:L,children:[(0,d.jsx)("label",{htmlFor:"balance",className:_,children:"Balance:"}),(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("input",{id:"#balance",className:j,type:"text",name:"balance",value:u,onChange:function(e){y(e.target.value),w(!1)},minLength:"1",pattern:"^[0-9]+$",title:"Field may contain only numbers from 0 to 9",required:!0,onFocus:function(){0===n&&y("")},readOnly:0!==n}),(0,d.jsx)("button",{type:"submit",className:N?g:b,disabled:N,children:"Confirm"})]})]}),0===n&&Z&&(0,d.jsx)(p,{})]})}},6158:function(e,n,t){t.d(n,{R:function(){return a}});var a=function(e){return Number(e).toLocaleString("cs-CZ",{style:"currency",currency:"UAH"}).replace(",",".")}},2183:function(e,n,t){t.r(n),t.d(n,{default:function(){return le}});var a,r=t(2791),i=t(3504),s="ButtonGoMain_link__mIDYP",c="ButtonGoMain_container__3KBRk",l="ButtonGoMain_text__jccAa",o=t(9567),u=t(184),d=function(){return(0,u.jsx)("div",{className:c,children:(0,u.jsxs)(i.rU,{to:"../",className:s,children:[(0,u.jsx)("img",{src:o.Z,alt:"big arrow"}),(0,u.jsx)("p",{className:l,children:"Main page"})]})})},p=t(8533),x=t(885),h={container:"Period_container__CCvRw",period:"Period_period__km5ew",periodWrapper:"Period_periodWrapper__NnTt9",date:"Period_date__Be2q0",year:"Period_year__fuREC",btn:"Period_btn__ELVTg"},f=t(168),m=t(7691),_=m.ZP.img(a||(a=(0,f.Z)(["\n  transform: rotate(",");\n  width: 6px;\n  align-self: center;\n  display: block;\n"])),(function(e){return e.rotate?"180deg":"0"}));var v,j,g=t.p+"static/media/arrow-small-left.ed65ae738f78a2df12fa63ecf435fb95.svg",b=function(e){var n=e.rotate;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(_,{rotate:n,src:g})})},y=function(){var e=(0,r.useState)(""),n=(0,x.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)(""),s=(0,x.Z)(i,2),c=s[0],l=s[1],o=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"];(0,r.useEffect)((function(){var e=o[(new Date).getMonth()];a(e);var n=(new Date).getFullYear();l(n)}),[]);return(0,u.jsxs)("div",{className:h.container,children:[(0,u.jsx)("p",{className:h.period,children:"Current period:"}),(0,u.jsxs)("div",{className:h.periodWrapper,children:[(0,u.jsx)("button",{className:h.btn,onClick:function(){if("JANUARY"===t)return l(c-1),void a("DECEMBER");a(o[o.indexOf(t)-1])},children:(0,u.jsx)(b,{})}),(0,u.jsxs)("div",{className:h.date,children:[(0,u.jsx)("p",{className:h.month,children:t}),(0,u.jsx)("p",{className:h.year,children:c})]}),(0,u.jsx)("button",{className:h.btn,onClick:function(){if("DECEMBER"===t)return l(c+1),void a("JANUARY");a(o[o.indexOf(t)+1])},children:(0,u.jsx)(b,{rotate:"true"})})]})]})},C=m.ZP.div(v||(v=(0,f.Z)(["\n  @media screen and (min-width: 772px) {\n    display: flex;\n    align-items: center;\n    margin-top: 40px;\n    margin-bottom: 32px;\n  }\n"]))),E=m.ZP.div(j||(j=(0,f.Z)(["\n  @media screen and (min-width: 772px) {\n    display: flex;\n    align-items: center;\n    flex-direction: row-reverse;\n  }\n"]))),N=function(){return(0,u.jsxs)(C,{children:[(0,u.jsx)(d,{}),(0,u.jsxs)(E,{children:[(0,u.jsx)(y,{}),(0,u.jsx)(p.Z,{})]})]})},w=t(8687),B="BalanceChange_container__F3km-",k="BalanceChange_sumWrapper__mfoXd",Z="BalanceChange_incrementWrapper__-hCpJ",S="BalanceChange_decrementWrapper__kXyfL",P="BalanceChange_decrement__po5-8",O="BalanceChange_subtitle__BMxFr",R=function(){var e=(0,w.useSelector)((function(e){return e.expenses}));return console.log(e),(0,u.jsx)("div",{className:B,children:(0,u.jsxs)("div",{className:k,children:[(0,u.jsxs)("div",{className:S,children:[(0,u.jsx)("p",{className:O,children:"Expenses:"}),(0,u.jsx)("p",{className:P,children:"- ".concat(e," uah.")})]}),(0,u.jsx)("div",{className:Z,children:(0,u.jsx)("p",{className:O,children:"Income:"})})]})})},L="ExpIncContainer_container__9EEY8",F="IncomeExpensesChange_btn__1VHFc",A="IncomeExpensesChange_title__5VZ7U",U="IncomeExpensesChange_text__XfQ1m",D=function(e){var n=e.onChange,t=e.incExp;return(0,u.jsxs)("div",{className:A,children:[(0,u.jsx)("button",{className:F,onClick:n,children:(0,u.jsx)(b,{})}),(0,u.jsx)("p",{className:U,children:t}),(0,u.jsx)("button",{className:F,onClick:n,children:(0,u.jsx)(b,{rotate:"true"})})]})},I="Expenses_categories__PCo8i",M="Category_category__bl5yk",K="Category_btn__lRW8+",T="Category_sum__bzr9-",Y="Category_nameOfCategory__acXvF",W="Category_picture__xqerT";var X,G=t.p+"static/media/sprite-icons.f211b3d267a1875dff4651062c262fc2.svg",J=t(5134),H=function(e){var n=e.details,t=e.categories,a=e.onChange,r=(0,w.useDispatch)();return(0,u.jsxs)("li",{className:M,children:[(0,u.jsx)("p",{className:T,children:n.sum}),(0,u.jsx)("button",{className:K,onClick:function(){a(t);var e=n.sub;r((0,J.D)(e))},children:(0,u.jsx)("svg",{className:W,children:(0,u.jsx)("use",{xlinkHref:"".concat(G,"#icon-").concat(t)})})}),(0,u.jsx)("p",{className:Y,children:t})]})},V=t(2982),q=t(7941),z=t(601),$=t(1380),Q=t(466),ee=t(2891),ne=t(5400),te=m.ZP.div(X||(X=(0,f.Z)(["\n  margin: 20px auto 0 -60px;\n"]))),ae=function(e){var n=e.list,t=(0,r.useState)([]),a=(0,x.Z)(t,2),i=a[0],s=a[1];(0,r.useEffect)((function(){var e=Object.entries(n).reduce((function(e,n){var t=n[0].split(" ")[0];return t.length>8&&(t=t.slice(0,8)),[{label:t,value:n[1]}].concat((0,V.Z)(e))}),[]);console.log(e),s(e)}),[n]);var c=i.reduce((function(e,n){return n.value>e?n.value:e}),0);return window.innerWidth<768?(0,u.jsx)(te,{children:(0,u.jsx)(z.h,{width:"130%",height:440,children:(0,u.jsxs)($.v,{data:i.sort((function(e,n){return n.value-e.value})),layout:"vertical",barSize:15,barCategoryGap:200,margin:{bottom:0,left:0,top:10},children:[(0,u.jsx)(Q.K,{type:"number",hide:!0}),(0,u.jsx)(ee.B,{yAxisId:0,type:"category",width:50,dataKey:"label",axisLine:!1,tickLine:!1,textAnchor:"start",tick:{transform:"translate(8, -18)"},scaleToFit:!0}),(0,u.jsx)(ee.B,{yAxisId:1,type:"category",width:50,dataKey:"value",axisLine:!1,tickLine:!1,orientation:"right",tick:function(e){var n=e.x,t=e.y,a=e.width,r=e.height,i=e.type,s=e.fill,l=(e.index,e.payload),o=n/c,d=n-(c-l.value)*o-50;return(0,u.jsx)(q.x,{type:i,fill:s,width:a,height:r,x:d>=n?n:d<.3*n?.3*n:d,y:t-12,children:l.value})}}),(0,u.jsx)(ne.$,{dataKey:"value",fill:"#FF751D"})]})})}):window.innerWidth>767?(0,u.jsx)(te,{children:(0,u.jsx)(z.h,{width:"100%",height:422,children:(0,u.jsxs)($.v,{data:i.sort((function(e,n){return n.value-e.value})),barSize:38,barCategoryGap:100,barGap:25,margin:{bottom:0,left:70,top:0},children:[(0,u.jsx)(ee.B,{type:"number",hide:!0}),(0,u.jsx)(Q.K,{xAxisId:0,type:"category",height:30,dataKey:"label",axisLine:!1,tickLine:!1,scaleToFit:!0}),(0,u.jsx)(Q.K,{xAxisId:1,type:"category",height:50,dataKey:"value",axisLine:!1,tickLine:!1,orientation:"top",tick:function(e){var n=e.x,t=e.y,a=e.width,r=e.height,i=e.type,s=e.fill,l=e.payload,o=t/c,d=t+(c-l.value)*o*7;return(0,u.jsx)(q.x,{type:i,fill:s,width:a,height:r,x:n-16,y:d<=t?t:d,children:l.value})}}),(0,u.jsx)(ne.$,{dataKey:"value",fill:"#FF751D"})]})})}):void 0},re=t(9136),ie=(t(5707),function(e){var n=e.data,t=(0,r.useState)(""),a=(0,x.Z)(t,2),i=a[0],s=a[1],c=(0,r.useState)([]),l=(0,x.Z)(c,2),o=l[0],d=l[1];return(0,r.useEffect)((function(){var e,t=null===(e=Object.entries(n))||void 0===e?void 0:e.sort((function(e,n){return n[1].sum-e[1].sum}));t.length&&(s(t[0][0]),d(t))}),[n]),(0,u.jsxs)(u.Fragment,{children:[o&&(0,u.jsx)("ul",{className:I,children:o.map((function(e,n){return(0,u.jsx)(H,{details:e[1],categories:e[0],onChange:s},n)}))}),n[i]&&(0,u.jsx)(ae,{list:n[i].sub})]})}),se=function(){var e=(0,r.useState)("EXPENSES"),n=(0,x.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)({}),s=(0,x.Z)(i,2),c=s[0],l=s[1],o=(0,r.useState)({}),d=(0,x.Z)(o,2),p=d[0],h=d[1],f=(0,w.useDispatch)(),m=(0,re.cm)().data,_=(0,re._x)().data;return(0,r.useEffect)((function(){"INCOME"===t&&m&&h(m),"EXPENSES"===t&&_&&h(_)}),[_,t,m]),(0,r.useEffect)((function(){if(p.transactions){null===p||void 0===p||p.transactions.reduce((function(e,n){return e+n.value}),0);var e,n=null===(e=p)||void 0===e?void 0:e.transactions.reduce((function(e,n){var t=n.description,a=n.value,r=n.categories,i=e;return i[r]||(i[r]={}),i[r].sum=i[r].sum?i[r].sum+a:a,i[r].sub||(i[r].sub={}),i[r].sub[t]=i[r].sub[t]?i[r].sub[t]+a:a,i}),{});console.log(n),l(n)}}),[p,f]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:L,children:[(0,u.jsx)(D,{onChange:function(){switch(t){case"EXPENSES":a("INCOME"),console.log(m,_);break;case"INCOME":a("EXPENSES"),console.log(m,_);break;default:return}},incExp:t}),(0,u.jsx)(ie,{data:c})]})})},ce=function(){return(0,u.jsxs)("section",{children:[(0,u.jsx)(N,{}),(0,u.jsx)(R,{}),(0,u.jsx)(se,{})]})},le=function(){return(0,u.jsx)("div",{children:(0,u.jsx)(ce,{})})}}}]);
//# sourceMappingURL=ReportPage.e7560bd8.chunk.js.map