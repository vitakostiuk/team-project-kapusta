"use strict";(self.webpackChunkteam_project_kapusta=self.webpackChunkteam_project_kapusta||[]).push([[370],{9567:function(e,n,t){t.d(n,{r:function(){return l}});var a,r=t(2791),i=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function o(e,n){var t=e.title,o=e.titleId,l=c(e,i);return r.createElement("svg",s({width:18,height:12,viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},l),t?r.createElement("title",{id:o},t):null,a||(a=r.createElement("path",{d:"M18 5H3.83L7.41 1.41L6 0L0 6L6 12L7.41 10.59L3.83 7H18V5Z",fill:"#FF751D"})))}var l=r.forwardRef(o);n.Z=t.p+"static/media/arrow-left.420a10fd9c9a52c9b30cbb0be1b001bf.svg"},8533:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(4165),r=t(5861),i=t(885),s=t(2791),c=t(8687),o="PopUp_popUpContainer__6yIi2",l="PopUp_popUpText__p1dK8",u="PopUp_popUpTextBottom__Mk8bs PopUp_popUpText__p1dK8",d=t(184),p=function(){return(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("p",{className:l,children:"Hello! To get started, enter the current balance of your account!"}),(0,d.jsx)("p",{className:u,children:"You can't spend money until you have it :)"})]})},h=t(4641),f=t(7906),x=t(6158),_="BalanceComp_form__VjdYG",m="BalanceComp_label__TVdDx",v="BalanceComp_btnsContainer__8Y1eX",j="BalanceComp_input__2dWo4",g="BalanceComp_buttonDisabled__iJPBt",b="BalanceComp_button__YhKpX BalanceComp_buttonDisabled__iJPBt",y=function(){var e=(0,h.Dj)(),n=e.data,t=e.isSuccess,o=(0,s.useState)(""),l=(0,i.Z)(o,2),u=l[0],y=l[1],C=(0,s.useState)(!0),N=(0,i.Z)(C,2),E=N[0],B=N[1],w=(0,s.useState)(!0),k=(0,i.Z)(w,2),Z=k[0],S=k[1],F=(0,c.useDispatch)(),P=(0,h.AR)(),L=(0,i.Z)(P,1)[0];(0,s.useEffect)((function(){t&&(F((0,f.L)((0,x.R)(n))),y((0,x.R)(n)))}),[n,F,t]);var O=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y((0,x.R)(u)),S(!1),e.prev=3,e.next=6,L({balance:Number(u)});case 6:t=e.sent,r=t.data,F((0,f.L)((0,x.R)(r.balance))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:B(!0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{className:_,onSubmit:O,children:[(0,d.jsx)("label",{htmlFor:"balance",className:m,children:"Balance:"}),(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("input",{id:"#balance",className:j,type:"text",name:"balance",value:u,onChange:function(e){y(e.target.value),B(!1)},minLength:"1",pattern:"^[0-9]+$",title:"Field may contain only numbers from 0 to 9",required:!0,onFocus:function(){0===n&&y("")},readOnly:0!==n}),(0,d.jsx)("button",{type:"submit",className:E?g:b,disabled:E,children:"Confirm"})]})]}),0===n&&Z&&(0,d.jsx)(p,{})]})}},6158:function(e,n,t){t.d(n,{R:function(){return a}});var a=function(e){return Number(e).toLocaleString("cs-CZ",{style:"currency",currency:"UAH"}).replace(",",".")}},5519:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var a,r=t(2791),i=t(3504),s="ButtonGoMain_link__mIDYP",c="ButtonGoMain_container__3KBRk",o="ButtonGoMain_text__jccAa",l=t(9567),u=t(184),d=function(){return(0,u.jsx)("div",{className:c,children:(0,u.jsxs)(i.rU,{to:"../",className:s,children:[(0,u.jsx)("img",{src:l.Z,alt:"big arrow"}),(0,u.jsx)("p",{className:o,children:"Main page"})]})})},p=t(8533),h=t(885),f={container:"Period_container__CCvRw",period:"Period_period__km5ew",periodWrapper:"Period_periodWrapper__NnTt9",date:"Period_date__Be2q0",year:"Period_year__fuREC",btn:"Period_btn__ELVTg"},x=t(168),_=t(7691),m=_.ZP.img(a||(a=(0,x.Z)(["\n  transform: rotate(",");\n  width: 6px;\n  align-self: center;\n  display: block;\n"])),(function(e){return e.rotate?"180deg":"0"}));var v=t.p+"static/media/arrow-small-left.ed65ae738f78a2df12fa63ecf435fb95.svg",j=function(e){var n=e.rotate;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m,{rotate:n,src:v})})},g=t(8687),b=t(571),y=function(){var e=(0,r.useState)(0),n=(0,h.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)(""),s=(0,h.Z)(i,2),c=s[0],o=s[1],l=(0,g.useDispatch)();(0,r.useEffect)((function(){l((0,b.a)({month:t,year:c}))}),[l,t,c]),(0,r.useEffect)((function(){var e=(new Date).getMonth();a(e);var n=(new Date).getFullYear();o(n)}),[]);return(0,u.jsxs)("div",{className:f.container,children:[(0,u.jsx)("p",{className:f.period,children:"Current period:"}),(0,u.jsxs)("div",{className:f.periodWrapper,children:[(0,u.jsx)("button",{className:f.btn,onClick:function(){if(0===t)return o(c-1),void a(11);a(t-1)},children:(0,u.jsx)(j,{})}),(0,u.jsxs)("div",{className:f.date,children:[(0,u.jsx)("p",{className:f.month,children:["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"][t]}),(0,u.jsx)("p",{className:f.year,children:c})]}),(0,u.jsx)("button",{className:f.btn,onClick:function(){if(11===t)return o(c+1),void a(0);a(t+1)},children:(0,u.jsx)(j,{rotate:"true"})})]})]})},C="BalanceContainer_container__auTW-",N="BalanceContainer_balance__YdBLZ",E=function(){return(0,u.jsxs)("div",{className:C,children:[(0,u.jsx)(d,{}),(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)(y,{}),(0,u.jsx)(p.Z,{})]})]})},B="BalanceChange_container__F3km-",w="BalanceChange_sumWrapper__mfoXd",k="BalanceChange_incrementWrapper__-hCpJ",Z="BalanceChange_decrementWrapper__kXyfL",S="BalanceChange_increment__bjycF",F="BalanceChange_decrement__po5-8",P="BalanceChange_subtitle__BMxFr",L=function(){var e=(0,g.useSelector)((function(e){return e.expenses}));return(0,u.jsx)("div",{className:B,children:(0,u.jsxs)("div",{className:w,children:[(0,u.jsxs)("div",{className:Z,children:[(0,u.jsx)("p",{className:P,children:"Expenses:"}),(0,u.jsx)("p",{className:F,children:"- ".concat(e.expenses," uah.")})]}),(0,u.jsxs)("div",{className:k,children:[(0,u.jsx)("p",{className:P,children:"Income:"}),(0,u.jsx)("p",{className:S,children:"+ ".concat(e.income," uah.")})]})]})})},O="ExpIncContainer_container__9EEY8",R="IncomeExpensesChange_btn__1VHFc",I="IncomeExpensesChange_title__5VZ7U",U="IncomeExpensesChange_text__XfQ1m",T=function(e){var n=e.onChange,t=e.incExp;return(0,u.jsxs)("div",{className:I,children:[(0,u.jsx)("button",{className:R,onClick:n,children:(0,u.jsx)(j,{})}),(0,u.jsx)("p",{className:U,children:t}),(0,u.jsx)("button",{className:R,onClick:n,children:(0,u.jsx)(j,{rotate:"true"})})]})},D=t(2982),M="Expenses_categories__PCo8i",A="Expenses_noData__rxQSa",K="Category_category__bl5yk",Y="Category_btn__lRW8+",W="Category_btn_active__h5UK5",X="Category_sum__bzr9-",G="Category_nameOfCategory__acXvF",H="Category_picture__xqerT";var V,J=t.p+"static/media/sprite-icons.f211b3d267a1875dff4651062c262fc2.svg",q=function(e){var n=e.details,t=e.categories,a=e.onChange,r=e.active,i=e.nameOfCategory;return(0,u.jsxs)("li",{className:K,children:[(0,u.jsx)("p",{className:X,children:n}),(0,u.jsx)("button",{className:r?W:Y,onClick:function(){a(t)},children:(0,u.jsx)("svg",{className:H,children:(0,u.jsx)("use",{xlinkHref:"".concat(J,"#icon-").concat(i)})})}),(0,u.jsx)("p",{className:G,children:i})]})},z=t(7941),$=t(601),Q=t(1380),ee=t(466),ne=t(2891),te=t(5400),ae=_.ZP.div(V||(V=(0,x.Z)(["\n  margin: 20px auto 0 -60px;\n"]))),re=function(e){var n=e.list,t=(0,r.useState)([]),a=(0,h.Z)(t,2),i=a[0],s=a[1];(0,r.useEffect)((function(){var e=n.reduce((function(e,n){var t=n.description.split(" ")[0];return t.length>8&&(t=t.slice(0,8)),[{label:t,value:n.value}].concat((0,D.Z)(e))}),[]);s(e)}),[n]);var c=i.reduce((function(e,n){return n.value>e?n.value:e}),0);return window.innerWidth<768?(0,u.jsx)(ae,{children:(0,u.jsx)($.h,{width:"130%",height:440,children:(0,u.jsxs)(Q.v,{data:i.sort((function(e,n){return n.value-e.value})),layout:"vertical",barSize:15,barCategoryGap:200,margin:{bottom:0,left:0,top:10},children:[(0,u.jsx)(ee.K,{type:"number",hide:!0}),(0,u.jsx)(ne.B,{yAxisId:0,type:"category",width:50,dataKey:"label",axisLine:!1,tickLine:!1,textAnchor:"start",tick:{transform:"translate(8, -18)"},scaleToFit:!0}),(0,u.jsx)(ne.B,{yAxisId:1,type:"category",width:50,dataKey:"value",axisLine:!1,tickLine:!1,orientation:"right",tick:function(e){var n=e.x,t=e.y,a=e.width,r=e.height,i=e.type,s=e.fill,o=(e.index,e.payload),l=n/c,d=n-(c-o.value)*l-50;return(0,u.jsx)(z.x,{type:i,fill:s,width:a,height:r,x:d>=n?n:d<.3*n?.3*n:d,y:t-12,children:o.value})}}),(0,u.jsx)(te.$,{dataKey:"value",fill:"#FF751D"})]})})}):window.innerWidth>767?(0,u.jsx)(ae,{children:(0,u.jsx)($.h,{width:"100%",height:422,children:(0,u.jsxs)(Q.v,{data:i.sort((function(e,n){return n.value-e.value})),barSize:38,barCategoryGap:100,barGap:25,margin:{bottom:0,left:70,top:0},children:[(0,u.jsx)(ne.B,{type:"number",hide:!0}),(0,u.jsx)(ee.K,{xAxisId:0,type:"category",height:30,dataKey:"label",axisLine:!1,tickLine:!1,scaleToFit:!0}),(0,u.jsx)(ee.K,{xAxisId:1,type:"category",height:50,dataKey:"value",axisLine:!1,tickLine:!1,orientation:"top",tick:function(e){var n=e.x,t=e.y,a=e.width,r=e.height,i=e.type,s=e.fill,o=e.payload,l=t/c,d=t+(c-o.value)*l*7;return(0,u.jsx)(z.x,{type:i,fill:s,width:a,height:r,x:n-16,y:d<=t?t:d,children:o.value})}}),(0,u.jsx)(te.$,{dataKey:"value",fill:"#FF751D"})]})})}):void 0},ie=function(e){var n=e.data,t=(0,r.useState)(""),a=(0,h.Z)(t,2),i=a[0],s=a[1],c=(0,r.useState)([]),o=(0,h.Z)(c,2),l=o[0],d=o[1],p=(0,r.useState)([]),f=(0,h.Z)(p,2),x=f[0],_=f[1];return(0,r.useEffect)((function(){if(null!==n&&void 0!==n&&n.length){var e=(0,D.Z)(n).sort((function(e,n){return n.summary-e.summary}));e.length&&(s(e[0]._id),d(e))}}),[n]),(0,r.useEffect)((function(){var e,t=null===(e=(0,D.Z)(n))||void 0===e?void 0:e.find((function(e){return e._id===i}));_((null===t||void 0===t?void 0:t.data)||[])}),[i]),(0,u.jsxs)(u.Fragment,{children:[n&&(0,u.jsx)("ul",{className:M,children:l.map((function(e,n){return(0,u.jsx)(q,{active:e.categories===i,details:e.summary,categories:e._id,nameOfCategory:e.categories,onChange:s},n)}))}),(null===n||void 0===n?void 0:n.length)>0?(0,u.jsx)(re,{list:x}):(0,u.jsx)("div",{className:A,children:"There are no transactions for selected period."})]})},se=t(9136),ce=t(5707),oe=function(){var e=(0,r.useState)("EXPENSES"),n=(0,h.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)([]),s=(0,h.Z)(i,2),c=s[0],o=s[1],l=(0,g.useDispatch)(),d=(0,g.useSelector)((function(e){return e.dateReport})),p=(0,se._T)(d).data;return(0,r.useEffect)((function(){var e,n,a,r,i,s;if(p){var c=null===p||void 0===p||null===(e=p.transactions)||void 0===e?void 0:e.findIndex((function(e){return e.income})),u=null===p||void 0===p||null===(n=p.transactions)||void 0===n?void 0:n.findIndex((function(e){return!e.income}));l((0,ce.T5)((null===(a=p.transactions[c])||void 0===a?void 0:a.total)||0)),l((0,ce.bF)((null===(r=p.transactions[u])||void 0===r?void 0:r.total)||0)),o("INCOME"===t?null===(i=p.transactions[c])||void 0===i?void 0:i.reports:null===(s=p.transactions[u])||void 0===s?void 0:s.reports)}}),[p,l,t]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:O,children:[(0,u.jsx)(T,{onChange:function(){switch(t){case"EXPENSES":a("INCOME");break;case"INCOME":a("EXPENSES");break;default:return}},incExp:t}),p&&(0,u.jsx)(ie,{data:c})]})})},le={},ue=function(){return(0,u.jsxs)("section",{className:le.section,children:[(0,u.jsx)(E,{}),(0,u.jsx)(L,{}),(0,u.jsx)(oe,{})]})},de=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ue,{})})}}}]);
//# sourceMappingURL=ReportPage.fb0bb24b.chunk.js.map