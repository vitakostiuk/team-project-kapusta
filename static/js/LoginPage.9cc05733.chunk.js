"use strict";(self.webpackChunkteam_project_kapusta=self.webpackChunkteam_project_kapusta||[]).push([[789],{1468:function(e,a,o){o.r(a),o.d(a,{default:function(){return f}});var s=o(2791),t=o(4165),n=o(5861),i=o(885);var l=o.p+"static/media/loginPageKAPUSTA.20d9f4fffb4586e08bdfc6d42521f042.svg";var r=o.p+"static/media/GoogleEmlem.bebc221e543dc0d6b74dfee424a34584.svg",c={forma:"Login_forma__SQ3gN",GoogleEmblem:"Login_GoogleEmblem__mDz8U",GoogleBtn:"Login_GoogleBtn__otJw7",topGoogleRegTextspan:"Login_topGoogleRegTextspan__2230l",topTextDiv:"Login_topTextDiv__tdst0",buttonGoogleRegText:"Login_buttonGoogleRegText__TqL2S",emailLabel:"Login_emailLabel__dz5K3",passwordLabel:"Login_passwordLabel__7+4E0",input:"Login_input__U5zZL",error:"Login_error__SEOjs",divButton:"Login_divButton__J1v2o",Btn:"Login_Btn__fzaJE",btn:"Login_btn__f19AH",textunderLogo:"Login_textunderLogo__Cypet",logo:"Login_logo__3K6k8",logoDiv:"Login_logoDiv__+egGV",loginDiv:"Login_loginDiv__OKmJQ"},g=o(6871),d=o(8687),m=o(284),u=o(6621),p=o(5705),_=o(1724),h=o(5207),x=o(184),v=_.Ry().shape({email:_.Z_().email("Invalid email").required("Required"),password:_.Z_().oneOf([_.iH("password"),null]).min(8,"Error").required("Required")}),b=function(){var e=(0,d.useDispatch)(),a=(0,m.YA)(),o=(0,i.Z)(a,1)[0],_=(0,m.l4)(),b=(0,i.Z)(_,1)[0],f=(0,g.TH)();(0,s.useEffect)((function(){if(f.search.length>0){var a=f.search.slice(7);e((0,u.z3)({token:a}))}}),[f.search]);var L=void 0;return(0,x.jsxs)("div",{className:c.loginDiv,children:[(0,x.jsxs)("div",{className:c.logoDiv,children:[(0,x.jsx)("img",{className:c.logo,src:l,alt:"kapusta"}),(0,x.jsx)("p",{className:c.textunderLogo,children:"Smart Finance"})]}),(0,x.jsx)(p.J9,{initialValues:{email:"",password:""},validationSchema:v,onSubmit:function(){var a=(0,n.Z)((0,t.Z)().mark((function a(s){var n,i;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("submitAction",L),"registration"!==L){a.next=16;break}return a.prev=2,a.next=5,b({email:s.email,password:s.password});case 5:"success"===(n=a.sent).data.status&&alert(n.data.message),console.log(n),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0),alert("check the fields");case 14:a.next=28;break;case 16:return a.prev=16,a.next=19,o({email:s.email,password:s.password});case 19:i=a.sent,console.log("user",i),e((0,u.Ib)(i)),a.next=28;break;case 24:a.prev=24,a.t1=a.catch(16),console.log(a.t1),alert("check your password or email or register in the application");case 28:case"end":return a.stop()}}),a,null,[[2,10],[16,24]])})));return function(e){return a.apply(this,arguments)}}(),children:function(e){var a=e.errors,o=e.touched,s=(e.isValid,e.dirty,e.handleSubmit);return(0,x.jsxs)(p.l0,{className:c.forma,children:[(0,x.jsxs)("div",{className:c.topTextDiv,children:[(0,x.jsx)("p",{className:c.topGoogleRegText,children:"You can log in with your Google"}),(0,x.jsx)("span",{className:c.topGoogleRegTextspan,children:" Account:"})]}),(0,x.jsxs)("a",{href:"https://team-project-kapusta.herokuapp.com/api/auth/google",className:c.GoogleBtn,children:[(0,x.jsx)("img",{src:r,className:h.O.GoogleEmblem,alt:"google"}),"Google"]}),(0,x.jsx)("p",{className:c.buttonGoogleRegText,children:"Or log in using an email and password, after registering:"}),(0,x.jsx)("label",{className:c.emailLabel,children:"Email:"}),(0,x.jsx)(p.gN,{name:"email",type:"email",placeholder:"your@email.com",className:c.input}),a.email&&o.email?(0,x.jsx)("div",{className:c.error,children:a.email}):null,(0,x.jsx)("label",{className:c.passwordLabel,children:"Password:"}),(0,x.jsx)(p.gN,{name:"password",type:"password",className:c.input}),a.password&&o.password?(0,x.jsx)("div",{className:c.error,children:a.password}):null,(0,x.jsxs)("div",{className:c.divButton,children:[(0,x.jsx)("button",{type:"button",disabled:a.email&&a.password,className:c.Btn,onClick:function(){L="login",s()},children:"Log in"}),(0,x.jsx)("button",{type:"button",disabled:a.email&&a.password,className:c.Btn,onClick:function(){L="registration",s()},children:"Registration"})]})]})}})]})},f=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(b,{})})}}}]);
//# sourceMappingURL=LoginPage.9cc05733.chunk.js.map